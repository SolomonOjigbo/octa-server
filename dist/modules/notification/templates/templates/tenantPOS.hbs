<!DOCTYPE html>
<html>
<head>
    <title>POS Session Summary - {{session.store.name}}</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .header { border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .summary-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .summary-table th, .summary-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .summary-table th { background-color: #f2f2f2; }
        .transaction-list { margin-top: 20px; }
        .transaction { border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 4px; }
        .footer { margin-top: 30px; text-align: center; color: #777; font-size: 0.9em; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>POS Session Summary</h1>
            <h2>{{session.store.name}}</h2>
            <p>
                <strong>Session ID:</strong> {{session.id}}<br>
                <strong>Cashier:</strong> {{session.user.name}}<br>
                <strong>Opened:</strong> {{formatDate session.openedAt}}<br>
                <strong>Closed:</strong> {{formatDate session.closedAt}}
            </p>
        </div>

        <h3>Financial Summary</h3>
        <table class="summary-table">
            <tr>
                <th>Metric</th>
                <th>Amount</th>
            </tr>
            <tr>
                <td>Opening Balance</td>
                <td>₦{{formatCurrency session.openingBalance}}</td>
            </tr>
            <tr>
                <td>Total Sales</td>
                <td>₦{{formatCurrency session.totalSales}}</td>
            </tr>
            <tr>
                <td>Total Returns</td>
                <td>₦{{formatCurrency session.totalReturns}}</td>
            </tr>
            <tr>
                <td>Cash Drops</td>
                <td>₦{{formatCurrency session.totalCashDrops}}</td>
            </tr>
            <tr>
                <td>Closing Balance</td>
                <td>₦{{formatCurrency session.closingBalance}}</td>
            </tr>
            <tr>
                <td><strong>Variance</strong></td>
                <td><strong>₦{{formatCurrency session.cashVariance}}</strong></td>
            </tr>
        </table>

        <h3>Transactions ({{transactions.length}})</h3>
        <div class="transaction-list">
            {{#each transactions}}
            <div class="transaction">
                <p>
                    <strong>Transaction ID:</strong> {{id}}<br>
                    <strong>Type:</strong> {{type}}<br>
                    <strong>Amount:</strong> ₦{{formatCurrency amount}}<br>
                    <strong>Customer:</strong> {{customer.name}}<br>
                    <strong>Date:</strong> {{formatDate createdAt}}
                </p>
            </div>
            {{/each}}
        </div>

        <div class="footer">
            <p>Generated automatically by Octa POS System</p>
        </div>
    </div>
</body>
</html>